\section{Экспериментальные данные}

На каждое число потоков отводилось 20 запусков.

\subsection{Время выполнения}

Для начала я решил взглянуть не только на среднюю скорость выполнения, но и на крайние варианты:

\vspace{0.5cm}

\begin{tikzpicture}
    \begin{axis}[
        xlabel={Число потоков},
        ylabel={Время (мс)},
        legend pos=north east,
    ]
    \addplot table [x index = 0, y index = 1, col sep=comma] {data/base.csv};
    \addplot table [x index = 0, y index = 2, col sep=comma] {data/base.csv};
    \addplot table [x index = 0, y index = 3, col sep=comma] {data/base.csv};
    \legend{Худшее время, Лучшее время, Среднее время}
    \end{axis}
\end{tikzpicture}

\vspace{0.5cm}

Крайне заметно, что однопотчная программа работает куда быстрее её конкурентов.
Возможно здесь, как и в первой лабораторной причиной является относительная простота алгоритма.
Тоесть программа тратит на подготовку к многопоточному исполнению времени больше, чем она от этого выигрывает.

Аналогично уже упомянутой первой лабораторной рассмотрим теперь данные с оптимизацией:

\vspace{0.5cm}

\begin{tikzpicture}
    \begin{axis}[
        xlabel={Число потоков},
        ylabel={Время (мс)},
        legend pos=north east,
    ]
    \addplot table [x index = 0, y index = 1, col sep=comma] {data/opt.csv};
    \addplot table [x index = 0, y index = 2, col sep=comma] {data/opt.csv};
    \addplot table [x index = 0, y index = 3, col sep=comma] {data/opt.csv};
    \legend{Худшее время, Лучшее время, Среднее время}
    \end{axis}
\end{tikzpicture}

\vspace{0.5cm}

Как видно на графике выше, повышение числа потоков лишь увеличивает среднее время исполнения.

\subsection{Прирост производительности}

В целом с увеличением числа потоков производительность падает.
Рассмотрим ускорение многопоточной программы отностиельно однопоточной.
Для неоптимизированной сборки:

\vspace{0.5cm}

\begin{tikzpicture}
    \begin{axis}[
        xlabel={Число потоков},
        ylabel={Прирост (\%)},
        ybar interval=0.7,
    ]
    \addplot table [x index = 0, y index = 1, col sep=comma] {data/cmp_base.csv};
    \end{axis}
\end{tikzpicture}

\vspace{0.5cm}

Для оптимизированной сборки:

\vspace{0.5cm}

\begin{tikzpicture}
    \begin{axis}[
        xlabel={Число потоков},
        ylabel={Прирост (\%)},
        ybar interval=0.7,
    ]
    \addplot table [x index = 0, y index = 1, col sep=comma] {data/cmp_opt.csv};
    \end{axis}
\end{tikzpicture}

\vspace{0.5cm}
